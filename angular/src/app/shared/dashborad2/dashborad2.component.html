
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>
  <div class="wrapper" style="min-height: 1300.4px;" >


    <div class="preloader flex-column justify-content-center align-items-center">
      <img class="animation__wobble" src="assets/img/img.png" alt="AdminLTELogo" height="60" width="60">
    </div>


  <app-header-layout></app-header-layout>



  <app-admin-layout></app-admin-layout>

<div class="content-wrapper">

  <div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">


              <button type="button" (click)="showCardDetails()" class="btn btn-primary generate-reports-button" style="background-color: #007bff; margin-top: -0px;margin-left:70px;">Generate Reports</button>


        </div>
    </div>
</div>


<!--
  <div class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">


      </div>
    </div>
  </div>
-->

  <section class="content">
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">




          <div class="overlay" *ngIf="displayCardDetails">
              <div class="overlay-content">

                  <form>

                    <div class="mb-3">
                      <label class="form-label">Choose Options:</label>
                      <div class="form-check">

                          <label class="form-check-label"  >
                            <input class="form-check-input" type="checkbox" [(ngModel)]="options.includeSalesoveryear"[ngModelOptions]="{standalone: true}">  Sales over year
                          </label>
                      </div>
                      <div class="form-check">

                          <label class="form-check-label"  >
                            <input class="form-check-input" type="checkbox" [(ngModel)]="options.includeTopCustomers"[ngModelOptions]="{standalone: true}">
                              Top customer
                          </label>
                      </div>
                      <div class="form-check">

                          <label class="form-check-label"  >
                            <input class="form-check-input" type="checkbox" [(ngModel)]="options.includeTopProducts" [ngModelOptions]="{standalone: true}">Top product
                          </label>
                      </div>
                      <div class="form-check">

                        <label class="form-check-label"  >
                          <input class="form-check-input" type="checkbox" [(ngModel)]="options.includeSalesByregion" [ngModelOptions]="{standalone: true}"> Sales by region
                        </label>
                    </div>
                    <div class="form-check">

                      <label class="form-check-label"  >
                        <input class="form-check-input" type="checkbox" [(ngModel)]="options.includeTopGlobalsales"[ngModelOptions]="{standalone: true}">Top Global sales
                      </label>
                  </div>
                  </div>

                  <button class="btn btn-secondary" (click)="onSubmit()">Submit</button>


                      <button type="button" class="btn btn-secondary" (click)="hideCardDetails()">Cancel</button>
                  </form>
              </div>
          </div>


        </div>
      </div>
    </div>

    <div class="container-fluid">

      <div class="row">
        <div class="col-12" style="margin-top: -50px">

<div class="" style="margin-left:60px ; width:1600px;">
                <div class="card-body d-flex" style="height: 500px;">
                    <!-- Sales Card with 90% width -->
                    <div class="col-12 px-0" style="height: 550px;">
                        <div class="card smaller-card h-100">
                            <div class="card-header border-0">
                              <div class="d-flex justify-content-between">



                                <fieldset>
                                  <details>
                                    <summary>Choose years: {{ selectedyears.join(', ') }}</summary>
                                    <ul>
                                      <li *ngFor="let year of years">
                                        <label>
                                          <input type="checkbox" name="fc" [value]="year" (change)="updateSelectedyears($event)" [(ngModel)]="isChecked[year]" />
                                          {{ year }}
                                        </label>
                                      </li>
                                    </ul>
                                  </details>





                              </fieldset>



                              <fieldset>
                                <details>
                                  <summary>Comparaison by : {{ selectedchoix.join(', ') }}</summary>
                                  <ul>
                                    <li *ngFor="let choi of choix">
                                      <label>
                                        <input type="checkbox" name="fc" [value]="choi" (change)="updateSelectedchoix($event)" [(ngModel)]="Checked[choi]" />
                                        {{ choi }}
                                      </label>
                                    </li>
                                  </ul>
                                </details>
                              </fieldset>


                                <h3 class="card-title">Sales</h3>
                              </div>

                            </div>
                            <div class="card-body">
                                <div class="position-relative mb-4">
                                    <app-bar-chart></app-bar-chart>
                                </div>

                                <div>
                                  <p class="point-warning" style="white-space: nowrap;" [innerHTML]="concatenatedText"></p>
                                </div>









                            </div>
                        </div>
                    </div>


                </div>
</div>
        </div>
    </div>






      <div class="row">

        <section class="col-lg-7 connectedSortable">
            <div class="col-sm-4 mt-custom d-flex align-items-center justify-content-end" style="margin-left:-10px">
                <app-calender4 style="margin-top: 90px ; margin-left:90px"></app-calender4>
            </div>


            <div class="card smaller-card flex-grow-1" style="margin-right: 1rem" style="margin-left:60px;width:600px">
              <div class="card-header border-0 bg-primary text-white">
                  <div class="d-flex justify-content-between align-items-center">
                      <h3 class="card-title m-0">Top Customer</h3>
                  </div>
              </div>
              <div class="card-body">

                  <div class="media">
                    <div class="media-body">
                      <ng-container *ngIf="selectedYear; else otherClients">
                        <div *ngFor="let p of clients">
                          <h5 class="mt-0">{{p.Client}}</h5>
                          <p class="text-muted">{{ p.TotalRevenue | number: '1.2-2' }}</p>

                        </div>
                      </ng-container>
                      <ng-template #otherClients>
                        <h5 class="mt-0">Client</h5>
                        <p class="text-muted">Total Revenue</p>
                      </ng-template>

                    </div>
                      <i class="fas fa-star fa-3x ml-3 text-primary"></i>
                  </div>
                  <!-- Insert other content for top customer here -->
              </div>
              <div class="card-footer text-right">
                <a href="/customers-dashboard">
                  <button type="button" class="btn btn-primary">View Details</button>
                </a>
              </div>
          </div>

            <!-- Small card for top product -->


          <div class="" style="margin-left:57px">
          <div class="card direct-chat direct-chat-warning" style="height: 588px; ">
            <div class="card-header">
              <h3 class="card-title">Top Global Sales</h3>

              <div class="card-tools">
                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                  <i class="fas fa-minus"></i>
                </button>
                <button type="button" class="btn btn-tool" data-card-widget="remove">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>

            <div class="card-body p-0">




                     <app-world-map></app-world-map>






            </div>

          </div>
          </div>
        </section>
        <section class="col-lg-5 connectedSortable">

          <div class="card smaller-card flex-grow-1" style="margin-right: 1rem ;margin-top:210px ;margin-left:10px;width:600px">
            <div class="card-header border-0 bg-success text-white">
                <div class="d-flex justify-content-between align-items-center">
                    <h3 class="card-title m-0">Top Product</h3>
                </div>
            </div>
            <div class="card-body">
                <!-- Top Product Info -->
                <div class="media">
                  <div class="media-body">
                    <ng-container *ngIf="selectedYear; else otherYears">
                      <div *ngFor="let p of produits">
                        <h5 class="mt-0">{{p.article}}</h5>

                        <p class="text-muted">{{ p.total_revenue | number: '1.2-2' }}</p>

                      </div>
                    </ng-container>
                    <ng-template #otherYears>
                      <h5 class="mt-0">article</h5>
                      <p class="text-muted">total_revenue</p>
                    </ng-template>

                  </div>
                    <i class="fas fa-shopping-cart fa-3x ml-3 text-success"></i>
                </div>
                <!-- Insert other content for top product here -->
            </div>
            <div class="card-footer text-right">
              <a href="/products-dashboard">
                <button type="button" class="btn btn-success">View Details</button>
              </a>

            </div>
        </div>
              <!-- DIRECT CHAT -->
              <div class="" style="margin-right:-4px">
              <div class="card direct-chat direct-chat-warning" style="height:588px;">
                <div class="card-header ">
                  <h3 class="card-title">
                    <i class="fas fa-map-marker-alt mr-1"></i>
                    Sales by region
                  </h3>
                  <!-- card tools -->
                  <div class="card-tools">

                    <button type="button" class="btn btn-primary btn-sm" data-card-widget="collapse" title="Collapse">
                      <i class="fas fa-minus"></i>
                    </button>
                  </div>
                  <!-- /.card-tools -->
                </div>
                <div class="card-body">



                  <app-map-component></app-map-component>

                </div>

              </div>
            </div>
        </section>

          </div>
      </div>



</section>
</div>
<aside class="control-sidebar control-sidebar-dark">

</aside>
<app-footer-layout></app-footer-layout>


  </div>

</body>
</html>
